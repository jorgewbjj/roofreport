<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SEAL TOP ROOF - Inspection Report</title>
    <style>
        :root {
            --primary-color: #007bff;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --text-color: #2c3e50;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 15px;
            color: var(--text-color);
            font-size: 16px;
        }

        .header {
            text-align: center;
            margin-bottom: 15px;
            padding: 15px 0;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .logo {
            height: 60px;
            margin-bottom: 10px;
        }

        .form-group {
            margin-bottom: 15px;
            padding: 15px;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            background: white;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ced4da;
            border-radius: 6px;
            font-size: 16px;
            margin-bottom: 12px;
            -webkit-appearance: none;
        }

        textarea {
            min-height: 100px;
        }

        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        button {
            padding: 14px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            flex: 1;
            min-width: 120px;
            transition: opacity 0.2s;
        }

        button:active {
            opacity: 0.8;
        }

        .add-btn {
            background-color: var(--success-color);
            color: white;
        }

        .remove-btn {
            background-color: var(--danger-color);
            color: white;
        }

        .submit-btn {
            background-color: var(--primary-color);
            color: white;
        }

        @media (min-width: 768px) {
            body {
                max-width: 800px;
                margin: 0 auto;
                padding: 20px;
            }

            .logo {
                height: 80px;
            }

            button {
                flex: none;
            }

            .submit-btn {
                float: right;
            }
        }

        @media (max-width: 480px) {
            .form-group {
                padding: 12px;
            }

            button {
                width: 100%;
            }
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/exif-js"></script>
</head>
<body onload="setDefaultDate()">
    <div class="header">
        <img src="Logo%20seal%20e%20slogan@2x.png" class="logo" alt="SEAL TOP ROOF Logo">
        <h1>Roof Inspection Report</h1>
    </div>

    <div class="form-group">
        <label>Roof Condition:</label>
        <select id="roof-condition" required>
            <option value="Good">Good</option>
            <option value="Fair">Fair</option>
            <option value="Poor">Poor</option>
        </select>
    </div>

    <div class="form-group">
        <label>Property Address:</label>
        <input type="text" id="address" required>
    </div>

    <div class="form-group">
        <label>Inspector Name:</label>
        <select id="inspector" required>
            <option value="Arister Cruz">Arister Cruz</option>
            <option value="Jorge Woicikoski">Jorge Woicikoski</option>
            <option value="Pedro Ortiz">Pedro Ortiz</option>
        </select>
    </div>

    <div class="form-group">
        <label>Inspection Date:</label>
        <input type="date" id="date" required>
    </div>

    <div class="form-group">
        <label>Roof Type:</label>
        <select id="roof-type" required>
            <option value="TPO">TPO</option>
            <option value="PVC">PVC</option>
            <option value="Metal">Metal</option>
            <option value="Modified">Modified</option>
            <option value="Shingle">Shingle</option>
            <option value="Other">Other</option>
        </select>
    </div>

    <div id="observations-container">
        <div class="form-group observation-section">
            <label>Observation Description:</label>
            <textarea class="observation-desc" required></textarea>
            <label>Upload Photos for This Observation:</label>
            <input type="file" class="observation-photos" multiple accept="image/*">
            <div class="button-group">
                <button type="button" class="remove-btn" onclick="removeObservation(this)">Remove Observation</button>
            </div>
        </div>
    </div>

    <div class="button-group">
        <button class="add-btn" onclick="addObservation()">Add Observation</button>
        <button class="submit-btn" onclick="generatePDF()">Generate Report</button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        // JavaScript remains mostly the same with mobile considerations
        function setDefaultDate() {
            const today = new Date();
            const yyyy = today.getFullYear();
            const mm = String(today.getMonth() + 1).padStart(2, '0');
            const dd = String(today.getDate()).padStart(2, '0');
            document.getElementById('date').value = `${yyyy}-${mm}-${dd}`;
        }

        const { jsPDF } = window.jspdf;
        let observationCount = 1;

        function addObservation() {
            const container = document.getElementById('observations-container');
            const newObservation = document.createElement('div');
            newObservation.className = 'form-group observation-section';
            newObservation.innerHTML = `
                <label>Observation Description:</label>
                <textarea class="observation-desc" required></textarea>
                <label>Upload Photos for This Observation:</label>
                <input type="file" class="observation-photos" multiple accept="image/*">
                <div class="button-group">
                    <button type="button" class="remove-btn" onclick="removeObservation(this)">Remove Observation</button>
                </div>
            `;
            container.appendChild(newObservation);
            observationCount++;
        }

        function removeObservation(button) {
            if(observationCount > 1) {
                button.closest('.observation-section').remove();
                observationCount--;
            } else {
                alert("At least one observation is required");
            }
        }

        // Rest of the generatePDF and helper functions remain the same
        // (Ensure they're included from original code)
    </script>
</body>
</html>
